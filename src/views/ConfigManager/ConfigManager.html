<div class="ui modal"
     v-bind:class="name"
     ref="modal">
  <i class="close icon" v-on:click="close"></i>
  <div class="header">
    <i class="keyboard outline icon"></i>
    {{ $t('Config Manager') }}
  </div>
  <div class="content">
    <div class="ui form description">
      
      <div class="field">
        <label for="ConfigManager.backupPageURL">
          {{ $t('Backup URL') }}
        </label>

        <div class="ui action input">
          <input type="url" 
                 name="uploadImageDraft" 
                 onfocus="this.select()"
                 id="ConfigManager.backupPageURL"
                 v-model="backupPageURL"
                 v-on:change="persist" />
          <button type="button" 
                  class="ui button"
                  v-bind:class="{ disabled: (enableBackupPageButton === false) }"
                  v-on:click="openBackupPageURL">
            {{ $t('OPEN') }}
          </button>
        </div>
      </div>
      
      <div class="two unstackable fields">
        <div class="field">
          <button type="button" 
                  class="backup ui labeled icon fluid button"
                  v-on:click="configDownload">
            <i class="download icon"></i>
            {{ $t('Backup') }}
          </button>
        </div>
        <div class="field">
          <input type="file" name="uploadConfig" 
                 accept=".zip"
                 v-on:change="configUpload"/>
          <button type="button"
                  class="ui labeled icon fluid button"
                  v-on:click="triggerConfigUpload">
            <i class="upload icon"></i>
            {{ $t('Restore') }}
          </button>
        </div>

        <div class="dragover-message"
             v-on:drop="configDrop">
          {{ $t('Drop file to upload') }}
        </div>
      </div>
      
      <!-- ------------------------- -->
      
      <div class="field">
        <label>
          {{ $t('Language') }}
        </label>
        <select class="ui search dropdown"
                v-model="locale"
                v-on:change="persistLocale">
          <template v-for="localeOption in localeOptions">
            <!--
            <template v-if="localeOption === locale">
              <option :value="localeOption"
                      selected="selected">
                {{ $t(localeOption) }}
              </option>
            </template>
            <template v-else>
              <option :value="localeOption">
                {{ $t(localeOption) }}
              </option>
            </template>
            -->
            <option v-bind:value="localeOption">
              {{ $t(localeOption) }}
            </option>
          </template>
        </select>
      </div>
      
      

    </div>
  </div>
  <div class="actions">
    <div class="ui button"
         v-on:click='close'>
      {{ $t('Close') }}
    </div>
  </div>
</div>