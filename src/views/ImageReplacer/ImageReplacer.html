<div class="non-invasive-web-style-framework">
  <div class="ui modal ImageReplacer">
    <i class="close icon" @click="close"></i>
    <div class="header">
      <i class="image icon"></i>
      Image Replace
    </div>
    <div class="content">
      <div class="description">
        <div class="no-images step step-0"
             v-bind:class="{hide: (currentStep !== 0)}">
          <div class="ui warning message">
            No filesystem image in post body.
          </div>
        </div>
        <div class="step step-1"
             v-bind:class="{hide: (currentStep !== 1)}">
          <div class="ui fluid positive labeled icon button"
               @click="downloadImagePackage"
               v-bind:class="{ disabled: isCreatingImagePackage }">
            <i class="file archive icon"></i>
            Download Image Package
          </div>
          
        </div>
        <div class="step step-2"
             v-bind:class="{hide: (currentStep !== 2)}">
          <div class="ui message">
            Unzip package into a folder.
            <a href="https://www.wikihow.com/Unzip-a-File">
              (How to unzip Image Package)
            </a>
          </div>
          <div class="ui image">
            <img src="static/unzip-to-folder.png" />
          </div>
        </div>
        <div class="step step-3"
             v-bind:class="{hide: (currentStep !== 3)}">
          <div class="ui message">
            Open a Blogger draft in Compose mode and empty content.
          </div>
          <div class="ui form">
            <div class="fields">
              <div class="eleven wide field"
                   @click="openBloggerDraft">
                <div class="ui positive button">
                  Open Blogger Draft
                </div>
              </div>
              <div class="five wide field"
                   @click="openBloggerDraftSetting">
                <div class="ui button">
                  Setting
                </div>
              </div>
            </div>
          </div>
          <div class="ui image">
            <img src="static/open-draft.png" />
          </div>
        </div>
        <div class="step step-4"
             v-bind:class="{hide: (currentStep !== 4)}">
          <div class="ui message">
            Drag images into Blogger draft and upload them.
          </div>
          <div class="ui image">
            <img src="static/image-uploaded.png" />
          </div>
        </div>
        <div class="step step-5"
             v-bind:class="{hide: (currentStep !== 5)}">
          <div class="ui message">
            Switch to HTML mode, copy HTML 
          </div>
          <div class="ui image">
            <img src="static/html-code.png" />
          </div>
        </div>
        <div class="step step-6"
             v-bind:class="{hide: (currentStep !== 6)}">
          <div class="ui form">
            <div class="field">
              <label>Paste HTML into following field:</label>
              <textarea v-model="imageHTML" 
                        @change="validateImageHTML"
                        @keyup="validateImageHTML"></textarea>
            </div>
          </div>
        </div>
        <div class="step step-7"
             v-bind:class="{hide: (currentStep !== 7)}">
          <div class="ui info message">
            <ul>
              <li v-if="replacedImageCount > 0">
                {{ replacedImageCount }} filesystem 
                <span v-if="replacedImageCount === 1">
                  image
                </span>
                <span v-if="replacedImageCount > 1">
                  images
                </span>
                had been replaced.
              </li>
              <li v-if="filesystemImageCount > 0">
                There are still 
                {{ filesystemImageCount }} 
                filesystem 
                <span v-if="filesystemImageCount === 1">
                  image
                </span>
                <span v-if="filesystemImageCount > 1">
                  images
                </span>
                need to upload.
              </li>
              <li v-if="filesystemImageCount === 0">
                No filesystem images now. Well done.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="actions">
      <div class="ui deny button"
           @click='close'
           v-if="currentStep === 0 || currentStep === 7">
        Close
      </div>
      <div class="ui deny labeled icon button"
           @click='prevStep'
           v-if="currentStep > 1">
        <i class="chevron left icon"></i>
        Prev
      </div>
      <div class="ui positive right labeled icon button"
           @click='nextStep'
           v-if="currentStep > 0 && currentStep < 7">
        Next
        <i class="chevron right icon"></i>
      </div>
      <!--
      <div class="ui positive right labeled icon button" 
           @click='replaceImage'
           v-if="currentStep === 6"
           v-bind:class="{ disabled: disableReplaceImage }">
        OK
        <i class="checkmark icon"></i>
      </div>
      -->
    </div>
  </div>
</div>